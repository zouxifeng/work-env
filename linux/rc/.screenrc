# hardstatus alwayslastline
# hardstatus string "%{= B}:%{= b}: %{= r}[ %{G}%H%{= r} ] %= %{=b b}%-w%{=rb db}%>%n %t%{-}%+w %=%{= r}[ %{G}%c %{M}%D %m-%d %{r}] %{= b}:%{B}:"
# terminfo xterm*|rxvt ti@:te@
# terminfo rxvt-unicode 'Co#256:AB=\E[48;5;%dm:AF=\E[38;5;%dm'
# terminfo xterm* 'XT:hs:ts=\E]2;:fs=\007:ds=\E]2;screen\007'
# autodetach on   # default: on
# altscreen on
# defscrollback 1000
# msgwait 5
# msgminwait 2
# pow_detach_msg "Screen session of \$LOGNAME \$:cr:\$:nl:ended."
# startup_message off # default: on
# vbell on
# vbell_msg "   Wuff  ----  Wuff!!  "
# nethack on
defutf8 on
# bindkey -k F1 prev
# bindkey -k F2 next

# Following keybindings is copied from byobu f-keys
# Original settings /usr/share/byobu/keybindings/f-keys
 
bindkey -k k1 screen -t config 0 byobu-config		# F1  | Configuration (along with F9)
							#     | since F1 = Help in gnome-terminal
bindkey -k k2 screen					# F2  | Create new window
bindkey -k k3 eval 'prev' 'fit'				# F3  | Previous Window
bindkey -k k4 eval 'next' 'fit'				# F4  | Next Window
register r "^a:source $HOME/.byobu/profile^M"
# Changed
bindkey -k k5 copy					# F5  | Enter copy/scrollback mode
bindkey -k k6 detach					# F6  | Detach from this session
# Changed
bindkey -k k7                           # My vim will use F7 to show a directory browser disable it here
register t "^aA^aa^k^h"					#     | Goes with the F8 definition
# Changed
bindkey -k k8  				# My vim will use F8 to show buffer list disable it here
# Changed
# F9 is occupied by vim for TagList window
bindkey -k k9
#bindkey -k k9 screen -t config 0 byobu-config		# F9  | Configuration
							# F10 | 'toolbar' in gnome-terminal
							# F11 | 'fullscreen' in gnome-terminal
bindkey -k F2 lockscreen				# F12 | Lock this terminal
bind $ screen -t status 0 byobu-status-detail 		# ctrl-a $ | show detailed status
bind @ screen -t config 0 byobu-config			# ctrl-a @ | Configuration
bind R process r					# ctrl-a R | Reload profile
register s "^a[g G$>^h"					# Goes with ^a~ definition
bind ~ eval 'process s' 'exec sed -i -e "/./,/^$/!d" /var/run/screen/S-$USER/byobu-exchange' 'echo "See: /var/run/screen/S-$USER/byobu-exchange"' # ctrl-a ~ | write the buffer to file

# Hotkeys for splits (gnome-terminal)
bindkey "^[O1;2Q" eval 'split' 'focus down' 'next' 'focus up'		# shift-F2 | horizontal split
bindkey "^[O1;5Q" eval 'split -v' 'focus down' 'next' 'focus up'	# ctrl-F2  | vertical split
bindkey "^[O1;2R" focus up						# shift-F3 | focus up
bindkey "^[O1;2S" focus down						# shift-F4 | focus down
bindkey "^[[15;2~" only							# shift-F5 | kill all splits
bindkey "^[[17;2~" remove						# shift-F6 | kill this split

# Hotkeys for splits (tty)
bindkey "^[[26~" eval 'split' 'focus down' 'next' 'focus up'		# shift-F2 | horizontal split
									# ctrl-F2  | sadly, does not work in tty :-(
bindkey "^[[28~" focus up						# shift-F3 | focus up
bindkey "^[[29~" focus down						# shift-F4 | focus down
bindkey "^[[31~" only							# shift-F5 | kill all splits
bindkey "^[[32~" remove							# shift-F6 | kill this split

# Make it more logical how to enter scrollback
bindkey "^[[5;3~" copy					# alt-pageup | scrollback
bindkey "^[[6;3~" copy					# alt-pageup | scrollback

# Make socket reconnection a little easier
bindkey "^[[15;5~" eval 'process r' 'stuff ". $BYOBU_PREFIX/bin/byobu-reconnect-sockets^M"' # ctrl-F5 | reconnect gpg/ssh sockets

# Detach from an auto-launched byobu, but don't log out of the shell
bindkey "^[[17;2~" eval 'exec touch /var/run/screen/S-$USER/byobu.no-logout' 'detach'   # ctrl-F6 | detach, but don't logout

# toggle f-key keybindings off
register d "^a:source $BYOBU_PREFIX/share/byobu/keybindings/screen-escape-keys^M"
bind ! eval 'process d' 'backtick 111 9999999 9999999 byobu-status menu --disable-f-keys'	# ctrl-a-! | toggle on/off f-keys

# Set prefix key here
escape ^Oo
